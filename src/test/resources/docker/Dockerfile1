FROM alpine:3.10
RUN apk --no-cache add vsftpd

COPY start_vsftpd.sh /bin/start_vsftpd.sh
COPY vsftpd.conf /etc/vsftpd/vsftpd.conf

RUN chmod +x /bin/start_vsftpd.sh

EXPOSE 21 21000-21010
VOLUME /ftp/ftp

RUN mkdir -p /ftp/ftp/data/
RUN mkdir -p /ftp/ftp/processed/


COPY test1.xml /ftp/ftp/data/book-info.xml
COPY test1.xml /ftp/ftp/data/book-info2.xml
COPY test1.xml /ftp/ftp/data/book-info3.xml
COPY test1.xml /ftp/ftp/data/book-info4.xml
COPY test1.xml /ftp/ftp/data/book-info5.xml

ENTRYPOINT ["/bin/start_vsftpd.sh"]